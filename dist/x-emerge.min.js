(()=>{function g(p){p.directive("emerge",async(o,{value:i,expression:s},{effect:m,evaluateLater:n})=>{if(!_D)return;let t=o.content.firstElementChild,e=t.getAttribute("emerge-cid"),r=t.getAttribute("emerge-extra");if(e&&i==="if"){let l=n(s);m(()=>{l(a=>{a&&f()})})}else if(e&&i==="for"){let l=u(s).items,a=n(l);m(()=>{a(c=>{(typeof c=="number"&&c>0||typeof c=="object"&&c.length>0)&&f()})})}else f();async function f(){e&&await _D.emerge(e,t,r?JSON.parse(r):void 0),o.removeAttribute(`x-emerge:${i}`),setTimeout(()=>o.setAttribute(`x-${i}`,s))}});function u(o){let i=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,s=/^\s*\(|\)\s*$/g,m=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=o.match(m);if(!n)return;let t={};t.items=n[2].trim();let e=n[1].replace(s,"").trim(),r=e.match(i);return r?(t.item=e.replace(i,"").trim(),t.index=r[1].trim(),r[2]&&(t.collection=r[2].trim())):t.item=e,t}}document.addEventListener("alpine:init",()=>window.Alpine.plugin(g));})();
//# sourceMappingURL=x-emerge.min.js.map
